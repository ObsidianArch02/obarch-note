## WSL2 ä¸å®¿ä¸»æœºç½‘ç»œäº’é€šè®¾ç½®

> å‚è€ƒ
> [wsl2-ubuntu é€šè¿‡ win10 ä»£ç†è¿æ¥äº’è”ç½‘ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/382939467)
> [è®°å½•ä¸€æ¬¡ WSL2 çš„ç½‘ç»œä»£ç†é…ç½® | jiayaoO3O's Blog](https://jiayaoo3o.github.io/2020/06/23/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1WSL2%E7%9A%84%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE/)

é»˜è®¤æƒ…å†µä¸‹ï¼ŒWindows çš„é˜²ç«å¢™ä¼šé˜»æ­¢ WSL2 å­ç³»ç»Ÿå‘å®¿ä¸»æœºçš„é€šä¿¡ï¼Œéœ€è¦åœ¨â€œé«˜çº§å®‰å…¨ Windows Defender é˜²ç«å¢™â€ä¸­è®¾ç½®å…¥ç«™è§„åˆ™ã€‚

è¿è¡Œ`ip route`æŸ¥çœ‹ WSL2 ä¸å®¿ä¸»æœºçš„ IP ä¿¡æ¯ï¼Œä»¥åŠéœ€è¦é…ç½®çš„å­ç½‘ä¿¡æ¯ã€‚

å¦å¤–ï¼š

åœ¨ Win10 -> WSL2 è¿™ä¸ªæ–¹å‘, æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡ Localhost æ¥è®¿é—®çš„, ä½†æ˜¯ WSL2 -> Win10 è¿™ä¸ªæ–¹å‘å°±ä¸èƒ½ç›´æ¥è®¿é—® Localhost äº†, éœ€è¦æŒ‡å®š Win10 çš„ ip, æƒ³è¦æŸ¥çœ‹ WSL2 ä¸­ Win10 çš„ ip, åªéœ€è¦æŸ¥çœ‹`resolve.conf`Â :

```sh
cat /etc/resolv.conf

# This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
# [network]
# generateResolvConf = false
nameserver 172.18.176.1
```

è¿™ä¸ª 172.18.176.1 å°±æ˜¯åœ¨ WSL2 ä¸­ Win10 çš„ ip.

æƒ³è¦æ–¹ä¾¿è·å–è¿™ä¸ª IP, å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹æ–¹å‘½ä»¤ :

```sh
cat /etc/resolv.conf|grep nameserver|awk '{print $2}'
```

å¦‚è¦ä½¿ç”¨éƒ¨ç½²åœ¨å®¿ä¸»æœºä¸Šçš„ä»£ç†æœåŠ¡ï¼Œéœ€è¦æ‰“å¼€ Windows é’ˆå¯¹ä»£ç†æœåŠ¡çš„é˜²ç«å¢™è®¾ç½®ã€‚

å¹¶ä¿®æ”¹`~/.bashrc`æ–‡ä»¶ï¼š

```sh
host_ip=$(cat /etc/resolv.conf |grep "nameserver" |cut -f 2 -d " ")
export ALL_PROXY="socks5://$host_ip:7890"
export all_proxy="socks5://$host_ip:7890"
export https_proxy="socks5://$host_ip:7890"
export http_proxy="http://$host_ip:7890"
```

ç„¶åé‡è½½ï¼š

```sh
source ~/.bashrc
```

æˆ–è€…ä½¿ç”¨è„šæœ¬ï¼š

```sh
#!/bin/sh
hostip=$(cat /etc/resolv.conf | grep nameserver | awk '{ print $2 }')
#wslip=$(hostname -I | awk '{print $1}')
port=<PORT>

PROXY_HTTP="http://${hostip}:${port}"

set_proxy(){
    export http_proxy="${PROXY_HTTP}"
    export HTTP_PROXY="${PROXY_HTTP}"

    export https_proxy="${PROXY_HTTP}"
    export HTTPS_proxy="${PROXY_HTTP}"
}

unset_proxy(){
    unset http_proxy
    unset HTTP_PROXY
    unset https_proxy
    unset HTTPS_PROXY
}

test_setting(){
    echo "Host ip:" ${hostip}
    #echo "WSL ip:" ${wslip}
    echo "Current proxy:" $https_proxy
}

if [ "$1" = "set" ]
then
    set_proxy

elif [ "$1" = "unset" ]
then
    unset_proxy

elif [ "$1" = "test" ]
then
    test_setting
else
    echo "Unsupported arguments."
fi
```

å¦å¤–å¯ä»¥åœ¨`~/.bashrc`ä¸­é€‰æ‹©æ€§çš„åŠ ä¸Šä¸‹é¢ä¸¤å¥è¯ï¼Œè®°å¾—**å°†é‡Œé¢çš„è·¯å¾„ä¿®æ”¹æˆä½ æ”¾è¿™ä¸ªè„šæœ¬çš„è·¯å¾„**ã€‚

```sh
alias proxy="source /path/to/proxy.sh"
. /path/to/proxy.sh set
```

ç¬¬ä¸€å¥è¯å¯ä»¥ä¸ºè¿™ä¸ªè„šæœ¬è®¾ç½®åˆ«å`proxy`ï¼Œè¿™æ ·åœ¨ä»»ä½•è·¯å¾„ä¸‹éƒ½å¯ä»¥é€šè¿‡`proxy`å‘½ä»¤ä½¿ç”¨è¿™ä¸ªè„šæœ¬äº†ï¼Œä¹‹ååœ¨ä»»ä½•è·¯å¾„ä¸‹ï¼Œéƒ½å¯ä»¥éšæ—¶éƒ½å¯ä»¥é€šè¿‡è¾“å…¥`proxy unset`æ¥æš‚æ—¶å–æ¶ˆä»£ç†ã€‚ç¬¬äºŒå¥è¯å°±æ˜¯åœ¨æ¯æ¬¡ shell å¯åŠ¨çš„æ—¶å€™è¿è¡Œè¯¥è„šæœ¬å®ç°è‡ªåŠ¨è®¾ç½®ä»£ç†ï¼Œè¿™æ ·ä»¥åä¸ç”¨é¢å¤–æ“ä½œå°±é»˜è®¤è®¾ç½®å¥½ä»£ç†å•¦~

å‚è§ï¼š[WSL2 ä¸­è®¿é—®å®¿ä¸»æœº Windows çš„ä»£ç† - ZingLix Blog](https://zinglix.xyz/2020/04/18/wsl2-proxy/)

## éƒ¨ç½² openwrt

### åœ¨ virtualbox è™šæ‹Ÿæœºä¸­çš„é…ç½®å®ä¾‹ & åŸºç¡€é…ç½®

- [Win10 VirtualBox å®‰è£… OpenWrt/LEDE - ç å†œæ•™ç¨‹](http://www.manongjc.com/detail/23-bkgkvtnoahqjrrc.html)
- [[OpenWrt Wiki] åœ¨ Virtualbox è™šæ‹Ÿæœºä¸­è¿è¡Œ OpenWrt](https://openwrt.org/zh/docs/guide-user/virtualization/virtualbox-vm)
- [VirtualBox è™šæ‹Ÿæœºç½‘ç»œæ­å»º NATã€æ¡¥æ¥ã€Host-Onlyã€Internal ç­‰(centos7) - ç®€ä¹¦](https://www.jianshu.com/p/0537b056790b)
- [lede/openwrt ç¯å¢ƒçš„ è‡ªå¸¦æº å’Œ å›½å†…æº ç›¸å…³é…ç½® - Allen Hua çš„ç½‘ç»œåšå®¢](https://hellodk.cn/post/246)
- [OpenWrt å›ºä»¶é…ç½®å›¾æ–‡æ•™ç¨‹ï¼Œå®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ï¼Œè·¯ç”±å™¨è®¾ç½®ç½‘ç»œ wifi - å“”å“©å“”å“©](https://www.bilibili.com/read/cv6727285/)

### å®šåˆ¶å›ºä»¶

- [[2022-09-05] x86/R2S/R4S/R5S/R2C/R68S ä¸€åˆ†é’Ÿåœ¨çº¿å®šåˆ¶å›ºä»¶ å®˜æ–¹çº¯å‡€ äº‘æ’ä»¶ OTA-è½¯è·¯ç”±,x86 ç³»ç»Ÿ,openwrt(x86),Router OS ç­‰-æ©å±±æ— çº¿è®ºå›](https://www.right.com.cn/forum/thread-8023604-1-1.html)
- [OpenWrt å›ºä»¶ä¸‹è½½ä¸åœ¨çº¿å®šåˆ¶ç¼–è¯‘](https://supes.top/?version=22.03&target=x86%2F64&id=generic)
- [miaoermua/CatWrt: ğŸŒ  æ›´ç¨³å®šï¼Œæ›´å¥½ç©çš„ OpenWrt å‘è¡Œç‰ˆï¼](https://github.com/miaoermua/CatWrt)

### æ’ä»¶

openclash adghome(DoH)

- [OpenClash ä½¿ç”¨æ•™ç¨‹ | é…±ç´«è¡¨](https://qust.me/post/openClash/)
- [LEDE(OpenWrt)å®‰è£… openclash ï½œæ—è·¯ç”±æŠ€å·§ ï½œ é…ç½®ç½‘ç»œæµé‡å…¨éƒ¨é€šè¿‡æ—è·¯ç”± - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘](https://cloud.tencent.com/developer/article/1693260)
- [ç”¨è¿™äº› OpenWRT æ’ä»¶æ¥æ­¦è£…ä½ çš„è·¯ç”±å™¨ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/103121214)

## å®¶åº­æµåª’ä½“æœåŠ¡å™¨

[[230118]Jellyfin ä¸­å›½ç‰¹ä¾›ç‰ˆ+Docker é•œåƒï¼Œå«é©±åŠ¨ï¼Œå…æŠ˜è…¾å¼€ç®±å³ç”¨ - ç”µè„‘è®¨è®º(æ–°) - Chiphell - åˆ†äº«ä¸äº¤æµç”¨æˆ·ä½“éªŒ](https://www.chiphell.com/thread-2375777-1-1.html)

å¤©é›ª PT å®šåˆ¶ Jellyfin æœåˆ®ç­–ç•¥

## Git æœåŠ¡å™¨

### GitHub æ·»åŠ  ssh å¯†é’¥ & æ“ä½œç³»ç»Ÿå¯†é’¥ç”Ÿæˆ

```sh
ssh-keygen
```

å‚è§ï¼š[å¦‚ä½•è§£å†³ git@github.com permission denied (publickey). fatal could not read from remote repository - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/454666519)

å¤š Git ç¯å¢ƒå¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼š

å‚è§ï¼š[Git æç¤º Permission denied (publickey)ï¼Œå¦‚ä½•æ‰èƒ½è§£å†³ï¼Ÿ - çŸ¥ä¹ ç”µè„‘æœ‰å¤šä¸ª git ç¯å¢ƒ](https://zhuanlan.zhihu.com/p/281094708)

## Linuxç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–

å†…æ ¸é­”æ”¹
[XanMod Kernel](https://xanmod.org/)

Arch Linuxä¸‹çš„makepkgçš„æ€§èƒ½ä¼˜åŒ–ï¼Œå¾…è¡¥å……

[Linux ä¸‹ä½¿ç”¨ Lutris å®‰è£…å¹¶æ¸¸ç©ä½å»¶è¿ŸéŸ³é¢‘ osu!Stable ç›¸å…³æŒ‡åŒ— | ç ‚ç³–ç ‚ç³–æ²™](https://blacksand.top/2021/10/02/Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Lutris%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B8%B8%E7%8E%A9%E4%BD%8E%E5%BB%B6%E8%BF%9F%E9%9F%B3%E9%A2%91osu!%20%E7%9B%B8%E5%85%B3%E6%8C%87%E5%8C%97/#%E6%9B%B4%E6%8D%A2Lutris%E7%9A%84Wine%E6%9E%84%E5%BB%BA%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89)